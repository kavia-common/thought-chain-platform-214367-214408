{"is_source_file": true, "format": "Python", "description": "This file contains a function to upgrade an SQLite database schema, ensuring necessary tables, columns, and indexes are present. It also includes a main block to execute the upgrade.", "external_files": ["./main"], "external_methods": ["_get_db_connection", "_ensure_schema"], "published": ["upgrade_database"], "classes": [], "methods": [{"name": "None upgrade_database(conn: Optional[sqlite3.Connection] = None)", "description": "Upgrades the SQLite database schema in-place, creating or modifying tables, columns, and indexes as necessary. Uses an existing database connection or creates a new one if none is provided.", "scope": "", "scopeKind": ""}], "calls": ["_get_db_connection", "_ensure_schema"], "search-terms": ["upgrade_database", "schema", "SQLite", "database", "init_db"], "state": 2, "file_id": 6, "knowledge_revision": 21, "git_revision": "", "ctags": [{"_type": "tag", "name": "upgrade_database", "path": "/home/kavia/workspace/code-generation/thought-chain-platform-214367-214408/thought_backend/src/api/init_db.py", "pattern": "/^def upgrade_database(conn: Optional[sqlite3.Connection] = None) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "function", "signature": "(conn: Optional[sqlite3.Connection] = None)"}], "hash": "410f6b02cc722d26a8c84e5608124c7a", "format-version": 4, "code-base-name": "thought_backend", "filename": "thought_backend/src/api/init_db.py", "revision_history": [{"21": ""}]}